# -----------------
# Related to the pretext task
# -----------------
Reuse:
  num_random_reuse: 200

IOSpaces:  # In ocular state, out ocular state, in frequency band, out frequency band
  - [ [ ec, eo ], [ all, delta ] ]
  - [ [ ec, eo ], [ all, theta ] ]
  - [ [ ec, eo ], [ all, alpha ] ]
  - [ [ ec, eo ], [ all, beta ] ]
  - [ [ ec, eo ], [ all, gamma ] ]

deviation_method: diff
pretext_main_metric: r2_score

# -----------------
# Datasets
# -----------------
Datasets: &Datasets
  LEMON:
    num_subjects: 203
    num_time_steps: null
    time_series_start: null
  Wang:
    num_subjects: 60
    num_time_steps: null
    time_series_start: null
  DortmundVital:
    num_subjects: 100
    num_time_steps: null
    time_series_start: null

# -----------------
# Configuration for subject splitting
# -----------------
SubjectSplit:  # In this config file, this is for the pretext task
  name: KeepDatasetOutRandomSplits
  kwargs:
    left_out_dataset: LEMON
    val_split: 0.3
    num_random_splits: 1
    seed: 42
    sort_first: true
SubGroups:
  sub_groups:
    dataset_name: !GetKeys { <<: *Datasets }
  verbose: false

MLModelSubjectSplit:  # In this config file, this is for the downstream task AFTER separating a test set. Which is a bad implementation...
  name: RandomSplitsTV
  kwargs:
    val_split: 0.3
    num_random_splits: 50
    seed: 42
    sort_first: true

# -----------------
# Training configurations
# -----------------
Training:  # log transforming the power values
  log_transform_targets: log10
MultiProcessing:
  max_workers: 1

# -----------------
# ML model configurations
# -----------------
MLModelSettings:
  aggregation_method: median
  evaluation_metric: r2_score  # todo: which should I choose?
  metrics: regression
  split_percentage: 0.3  # todo: not sure which split tbh...
  test_prediction_aggregation: mean
  test_predictions_decimals: 4
  test_scores_decimals: 4